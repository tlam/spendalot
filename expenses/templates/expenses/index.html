{% extends "base.html" %}

{% block content %}
<h2>Expenses - <a href="{% url 'expenses:create' %}" class="sub-header">Create</a></h2>

{% for year in year_range %}
  <a href="?year={{ year }}">{{ year }}</a>
  {% if not forloop.last %}|{% endif %}
{% endfor %}

{% for month, expenses in monthly_expenses %}
  <h3>{{ month|date:"F Y" }}</h2>
  <table class="table table-striped table-condensed">
    <tr>
      <th>Date</th>
      <th>Description</th>
      <th>Amount</th>
      <th>Category</th>
    </tr>
  {% for expense in expenses %}
    <tr>
      <td>{{ expense.date|date:"l, d F" }}</td>
      <td class="description">{{ expense.description }}</td>
      <td class="amount">{{ expense.amount }}</td>
      <td class="category">{{ expense.category }}</td>
    </tr>
  {% endfor %}
  </table>
{% endfor %}
{% endblock %}
